import { useEffect, useRef, useState } from "react";
import { useDispatch } from "react-redux";
import { toggleLandingDropdown } from './store/landingDropdown';
import './css/contact.css'
import { useNavigate } from "react-router-dom";

const Contact = () => {

    useEffect(() => {
        // ðŸ‘‡ï¸ scroll to top on page load
        window.scrollTo({ top: 0, left: 0, behavior: 'smooth' });
    }, []);

    const [fullName, setFullName] = useState('');
    const [email, setEmail] = useState('');
    const [phone, setPhone] = useState('');
    const [subject, setSubject] = useState('');
    const [message, setMessage] = useState('')
    const [popup, setPopup] = useState(false);
    const contactName = useRef();
    const contactEmail = useRef();
    const contactPhone = useRef();
    const contactMessage = useRef();
    const navigate = useNavigate();

    const hideDropdown = useDispatch();

    const hideTopNav = () => {
        hideDropdown(toggleLandingDropdown(false))
    }

    const sendMessage = () => {

        if (fullName === '') {
            contactName.current.classList.add('contact-err')
        }
        else if (email === '' || email.includes('@') === false || email.includes('.') === false) {
            contactName.current.classList.remove('contact-err')
            contactEmail.current.classList.add('contact-err')
        }
        else if (phone === '') {
            contactEmail.current.classList.remove('contact-err')
            contactPhone.current.classList.add('contact-err')
        }
        else if (message === '') {
            contactPhone.current.classList.remove('contact-err')
            contactMessage.current.classList.add('contact-err')
        }
        else {
            contactMessage.current.classList.remove('contact-err');
            setPopup(true)
            setFullName('')
            setEmail('')
            setPhone('')
            setSubject('')
            setMessage('')
        }
    }

    return (
        <div>
            <main className="contact" onClick={() => hideTopNav()}>
                <div className="contact-socials">
                    <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <g clipPath="url(#clip0_1440_5225)">
                            <path d="M32 16C32 7.1635 24.8365 0 16 0C7.1635 0 0 7.16337 0 16C0 23.986 5.851 30.6054 13.5 31.8056V20.625H9.4375V16H13.5V12.475C13.5 8.465 15.8888 6.25 19.5434 6.25C21.294 6.25 23.125 6.5625 23.125 6.5625V10.5H21.1075C19.1198 10.5 18.5 11.7334 18.5 12.9987V16H22.9375L22.2281 20.625H18.5V31.8056C26.149 30.6054 32 23.9861 32 16Z" fill="#1877F2" />
                            <path d="M22.2281 20.625L22.9375 16H18.5V12.9987C18.5 11.7332 19.1199 10.5 21.1075 10.5H23.125V6.5625C23.125 6.5625 21.294 6.25 19.5434 6.25C15.8888 6.25 13.5 8.465 13.5 12.475V16H9.4375V20.625H13.5V31.8056C14.327 31.9352 15.1629 32.0002 16 32C16.8371 32.0002 17.673 31.9353 18.5 31.8056V20.625H22.2281Z" fill="white" />
                        </g>
                        <defs>
                            <clipPath id="clip0_1440_5225">
                                <rect width="32" height="32" fill="white" />
                            </clipPath>
                        </defs>
                    </svg>
                    <svg width="28" height="28" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <g clipPath="url(#clip0_1440_5243)">
                            <path d="M23.8573 23.8576H19.7086V17.3604C19.7086 15.8111 19.6809 13.8167 17.5509 13.8167C15.39 13.8167 15.0594 15.5048 15.0594 17.2476V23.8572H10.9108V10.4964H14.8935V12.3223H14.9493C15.3478 11.6408 15.9238 11.0801 16.6158 10.7C17.3078 10.32 18.0899 10.1347 18.8789 10.164C23.0838 10.164 23.8591 12.9299 23.8591 16.5281L23.8573 23.8576ZM6.22956 8.67013C4.89989 8.67035 3.82178 7.59257 3.82156 6.2629C3.82134 4.93323 4.89902 3.85512 6.22869 3.8549C7.55836 3.85457 8.63647 4.93235 8.63669 6.26202C8.6368 6.90056 8.38326 7.51299 7.93184 7.96459C7.48042 8.4162 6.8681 8.66999 6.22956 8.67013ZM8.30397 23.8577H4.15089V10.4964H8.30386V23.8576L8.30397 23.8577ZM25.9256 0.00194631H2.0662C0.938547 -0.0107412 0.0137813 0.892587 0 2.02024V25.9792C0.0133438 27.1074 0.938 28.0116 2.06609 27.9998H25.9256C27.0561 28.0138 27.9844 27.1096 28 25.9792V2.01838C27.9839 0.88854 27.0555 -0.0146787 25.9256 8.69355e-05" fill="#0A66C2" />
                        </g>
                        <defs>
                            <clipPath id="clip0_1440_5243">
                                <rect width="28" height="28" fill="white" />
                            </clipPath>
                        </defs>
                    </svg>
                    <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M32 6.18122C30.8017 6.71207 29.5307 7.06051 28.2292 7.21497C29.5849 6.40247 30.6257 5.11585 31.1159 3.58285C29.8272 4.34758 28.4173 4.88638 26.947 5.17597C25.7494 3.9001 24.0432 3.10272 22.1549 3.10272C18.5291 3.10272 15.5895 6.04222 15.5895 9.66772C15.5895 10.1823 15.6476 10.6833 15.7595 11.164C10.3032 10.8901 5.46575 8.27647 2.22762 4.30447C1.66262 5.2741 1.33888 6.40197 1.33888 7.60497C1.33888 9.88272 2.498 11.8921 4.2595 13.0695C3.21694 13.0368 2.19731 12.7552 1.28575 12.2482C1.28537 12.2757 1.28537 12.3032 1.28537 12.3308C1.28537 15.5117 3.54837 18.1652 6.55162 18.7683C5.58486 19.0313 4.57079 19.0698 3.58687 18.8808C4.42225 21.4891 6.84688 23.3871 9.71963 23.4402C7.47275 25.201 4.64188 26.2506 1.56613 26.2506C1.03613 26.2506 0.513625 26.2195 0 26.1588C2.90538 28.0216 6.35625 29.1085 10.0638 29.1085C22.1396 29.1085 28.743 19.1046 28.743 10.4291C28.743 10.1443 28.7368 9.86122 28.724 9.57972C30.0093 8.65058 31.1186 7.49974 32 6.18122Z" fill="#55ACEE" />
                    </svg>
                    <svg width="38" height="38" viewBox="0 0 38 38" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M26.6075 13.1029C27.5519 13.1029 28.3175 12.3373 28.3175 11.3929C28.3175 10.4485 27.5519 9.68286 26.6075 9.68286C25.6631 9.68286 24.8975 10.4485 24.8975 11.3929C24.8975 12.3373 25.6631 13.1029 26.6075 13.1029Z" fill="#333333" />
                        <path d="M19 11.6826C17.5528 11.6826 16.138 12.1118 14.9347 12.9158C13.7313 13.7199 12.7935 14.8627 12.2396 16.1998C11.6858 17.5368 11.5409 19.0081 11.8232 20.4275C12.1056 21.847 12.8025 23.1508 13.8258 24.1742C14.8492 25.1975 16.153 25.8944 17.5724 26.1768C18.9919 26.4591 20.4632 26.3142 21.8002 25.7604C23.1373 25.2065 24.2801 24.2686 25.0842 23.0653C25.8882 21.862 26.3174 20.4472 26.3174 19C26.3174 17.0593 25.5464 15.1981 24.1742 13.8258C22.8019 12.4536 20.9407 11.6826 19 11.6826ZM19 23.75C18.0605 23.75 17.1422 23.4714 16.361 22.9495C15.5799 22.4275 14.9711 21.6857 14.6116 20.8177C14.2521 19.9498 14.158 18.9947 14.3413 18.0733C14.5245 17.1519 14.9769 16.3055 15.6412 15.6412C16.3055 14.9769 17.1519 14.5245 18.0733 14.3413C18.9947 14.158 19.9498 14.252 20.8177 14.6116C21.6857 14.9711 22.4275 15.5799 22.9495 16.361C23.4714 17.1422 23.75 18.0605 23.75 19C23.75 20.2598 23.2495 21.468 22.3588 22.3587C21.468 23.2495 20.2598 23.75 19 23.75Z" fill="#333333" />
                        <path d="M19 7.31738C22.8048 7.31738 23.256 7.33162 24.7582 7.4005C25.6617 7.41123 26.5566 7.57712 27.4039 7.89094C28.0187 8.12807 28.5769 8.49127 29.0428 8.95717C29.5087 9.42307 29.8719 9.98134 30.1091 10.5961C30.4229 11.4434 30.5888 12.3383 30.5995 13.2418C30.6684 14.744 30.6826 15.1952 30.6826 19.0012C30.6826 22.8071 30.6684 23.256 30.5995 24.7582C30.5888 25.6617 30.4229 26.5566 30.1091 27.4039C29.8719 28.0187 29.5087 28.5769 29.0428 29.0428C28.5769 29.5087 28.0187 29.8719 27.4039 30.1091C26.5566 30.4229 25.6617 30.5888 24.7582 30.5995C23.256 30.6684 22.8048 30.6826 19 30.6826C15.1952 30.6826 14.744 30.6684 13.2418 30.5995C12.3383 30.5888 11.4434 30.4229 10.5961 30.1091C9.98134 29.8719 9.42307 29.5087 8.95717 29.0428C8.49127 28.5769 8.12807 28.0187 7.89094 27.4039C7.57712 26.5566 7.41123 25.6617 7.4005 24.7582C7.33162 23.256 7.31738 22.8048 7.31738 19C7.31738 15.1952 7.33162 14.744 7.4005 13.2418C7.41123 12.3383 7.57712 11.4434 7.89094 10.5961C8.12807 9.98134 8.49127 9.42307 8.95717 8.95717C9.42307 8.49127 9.98134 8.12807 10.5961 7.89094C11.4434 7.57712 12.3383 7.41123 13.2418 7.4005C14.744 7.33162 15.1952 7.31738 19 7.31738ZM19 4.75C15.1299 4.75 14.6442 4.76663 13.1243 4.8355C11.9424 4.85936 10.7732 5.08341 9.66625 5.49813C8.71948 5.86423 7.85966 6.42411 7.14188 7.14188C6.42411 7.85966 5.86423 8.71948 5.49813 9.66625C5.08328 10.7736 4.85923 11.9432 4.8355 13.1254C4.76663 14.6454 4.75 15.1287 4.75 19C4.75 22.8713 4.76663 23.3557 4.8355 24.8757C4.85936 26.0576 5.08341 27.2268 5.49813 28.3338C5.86423 29.2805 6.42411 30.1403 7.14188 30.8581C7.85966 31.5759 8.71948 32.1358 9.66625 32.5019C10.7736 32.9167 11.9432 33.1408 13.1254 33.1645C14.6454 33.2334 15.1299 33.25 19 33.25C22.8701 33.25 23.3557 33.2334 24.8757 33.1645C26.058 33.1408 27.2276 32.9167 28.3349 32.5019C29.2817 32.1358 30.1415 31.5759 30.8593 30.8581C31.5771 30.1403 32.137 29.2805 32.5031 28.3338C32.9175 27.2264 33.1411 26.0567 33.1645 24.8746C33.2334 23.3546 33.25 22.8713 33.25 19C33.25 15.1287 33.2334 14.6442 33.1645 13.1243C33.1406 11.9424 32.9166 10.7732 32.5019 9.66625C32.1358 8.71948 31.5759 7.85966 30.8581 7.14188C30.1403 6.42411 29.2805 5.86423 28.3338 5.49813C27.2264 5.08369 26.0567 4.86004 24.8746 4.83669C23.3546 4.76544 22.8713 4.75 19 4.75Z" fill="#333333" />
                    </svg>
                </div>
                <div className="contact-us">
                    <h1>CONTACT US</h1>
                    <form action="" className="contact-form">
                        <p>Hi there, how may we be of help to you?</p>
                        <input type="text" className="contact-input" placeholder="Full Name"
                            value={fullName} onChange={(e) => setFullName(e.target.value)}
                            ref={contactName}
                        /><br />
                        <input type="email" className="contact-input" placeholder="Email"
                            value={email} onChange={(e) => setEmail(e.target.value)}
                            ref={contactEmail}
                        /><br />
                        <input type="tel" className="contact-input" placeholder="Phone"
                            value={phone} onChange={(e) => setPhone(e.target.value)}
                            ref={contactPhone}
                        /><br />
                        <input type="text" className="contact-input" placeholder="Subject"
                            value={subject} onChange={(e) => setSubject(e.target.value)}
                        /><br />
                        <textarea name="contact-message" id="contact-message" className="contact-message"
                            placeholder="Message" value={message} onChange={(e) => setMessage(e.target.value)}
                            ref={contactMessage}
                        ></textarea><br />
                        <button className="contact-submit" onClick={(e) => { e.preventDefault(); sendMessage() }}>SUBMIT</button>
                    </form>
                </div>
                <div className="contact-image">
                    <img src={require('./img/Image.png')} alt="" />
                    <div className="contact-info">
                        <div className="contact-address">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M11.9999 14.17C9.86988 14.17 8.12988 12.44 8.12988 10.3C8.12988 8.16 9.86988 6.44 11.9999 6.44C14.1299 6.44 15.8699 8.17 15.8699 10.31C15.8699 12.45 14.1299 14.17 11.9999 14.17ZM11.9999 7.94C10.6999 7.94 9.62988 9 9.62988 10.31C9.62988 11.62 10.6899 12.68 11.9999 12.68C13.3099 12.68 14.3699 11.62 14.3699 10.31C14.3699 9 13.2999 7.94 11.9999 7.94Z" fill="#D2D2FF" />
                                <path d="M11.9997 22.76C10.5197 22.76 9.02969 22.2 7.86969 21.09C4.91969 18.25 1.65969 13.72 2.88969 8.33C3.99969 3.44 8.26969 1.25 11.9997 1.25C11.9997 1.25 11.9997 1.25 12.0097 1.25C15.7397 1.25 20.0097 3.44 21.1197 8.34C22.3397 13.73 19.0797 18.25 16.1297 21.09C14.9697 22.2 13.4797 22.76 11.9997 22.76ZM11.9997 2.75C9.08969 2.75 5.34969 4.3 4.35969 8.66C3.27969 13.37 6.23969 17.43 8.91969 20C10.6497 21.67 13.3597 21.67 15.0897 20C17.7597 17.43 20.7197 13.37 19.6597 8.66C18.6597 4.3 14.9097 2.75 11.9997 2.75Z" fill="#D2D2FF" />
                            </svg>
                            <p>Team 36, Zuri Training, Africa</p>
                        </div>
                        <div className="contact-number">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M17.45 22.75C16.32 22.75 15.13 22.48 13.9 21.96C12.7 21.45 11.49 20.75 10.31 19.9C9.14 19.04 8.01 18.08 6.94 17.03C5.88 15.96 4.92 14.83 4.07 13.67C3.21 12.47 2.52 11.27 2.03 10.11C1.51 8.87 1.25 7.67 1.25 6.54C1.25 5.76 1.39 5.02 1.66 4.33C1.94 3.62 2.39 2.96 3 2.39C3.77 1.63 4.65 1.25 5.59 1.25C5.98 1.25 6.38 1.34 6.72 1.5C7.11 1.68 7.44 1.95 7.68 2.31L10 5.58C10.21 5.87 10.37 6.15 10.48 6.43C10.61 6.73 10.68 7.03 10.68 7.32C10.68 7.7 10.57 8.07 10.36 8.42C10.21 8.69 9.98 8.98 9.69 9.27L9.01 9.98C9.02 10.01 9.03 10.03 9.04 10.05C9.16 10.26 9.4 10.62 9.86 11.16C10.35 11.72 10.81 12.23 11.27 12.7C11.86 13.28 12.35 13.74 12.81 14.12C13.38 14.6 13.75 14.84 13.97 14.95L13.95 15L14.68 14.28C14.99 13.97 15.29 13.74 15.58 13.59C16.13 13.25 16.83 13.19 17.53 13.48C17.79 13.59 18.07 13.74 18.37 13.95L21.69 16.31C22.06 16.56 22.33 16.88 22.49 17.26C22.64 17.64 22.71 17.99 22.71 18.34C22.71 18.82 22.6 19.3 22.39 19.75C22.18 20.2 21.92 20.59 21.59 20.95C21.02 21.58 20.4 22.03 19.68 22.32C18.99 22.6 18.24 22.75 17.45 22.75ZM5.59 2.75C5.04 2.75 4.53 2.99 4.04 3.47C3.58 3.9 3.26 4.37 3.06 4.88C2.85 5.4 2.75 5.95 2.75 6.54C2.75 7.47 2.97 8.48 3.41 9.52C3.86 10.58 4.49 11.68 5.29 12.78C6.09 13.88 7 14.95 8 15.96C9 16.95 10.08 17.87 11.19 18.68C12.27 19.47 13.38 20.11 14.48 20.57C16.19 21.3 17.79 21.47 19.11 20.92C19.62 20.71 20.07 20.39 20.48 19.93C20.71 19.68 20.89 19.41 21.04 19.09C21.16 18.84 21.22 18.58 21.22 18.32C21.22 18.16 21.19 18 21.11 17.82C21.08 17.76 21.02 17.65 20.83 17.52L17.51 15.16C17.31 15.02 17.13 14.92 16.96 14.85C16.74 14.76 16.65 14.67 16.31 14.88C16.11 14.98 15.93 15.13 15.73 15.33L14.97 16.08C14.58 16.46 13.98 16.55 13.52 16.38L13.25 16.26C12.84 16.04 12.36 15.7 11.83 15.25C11.35 14.84 10.83 14.36 10.2 13.74C9.71 13.24 9.22 12.71 8.71 12.12C8.24 11.57 7.9 11.1 7.69 10.71L7.57 10.41C7.51 10.18 7.49 10.05 7.49 9.91C7.49 9.55 7.62 9.23 7.87 8.98L8.62 8.2C8.82 8 8.97 7.81 9.07 7.64C9.15 7.51 9.18 7.4 9.18 7.3C9.18 7.22 9.15 7.1 9.1 6.98C9.03 6.82 8.92 6.64 8.78 6.45L6.46 3.17C6.36 3.03 6.24 2.93 6.09 2.86C5.93 2.79 5.76 2.75 5.59 2.75ZM13.95 15.01L13.79 15.69L14.06 14.99C14.01 14.98 13.97 14.99 13.95 15.01Z" fill="#D2D2FF" />
                            </svg>
                            <p>+2349067414428</p>
                        </div>
                    </div>
                </div>
                {popup ? (
                    <div className="cover">
                        <div className="popup">
                            <img src={require('./img/contact-wave.png')} alt="" />
                            <p>Thank you for contacting us, we'll get back to you shortly.</p>
                            <div className="contact-btn-container">
                                <button className="contact-go-back" onClick={() => setPopup(false)}>Okay, go back</button>
                                <button className="contact-go-faq" onClick={() => navigate('/faq')}>Go to FAQ</button>
                            </div>
                        </div>
                    </div>
                ) : (null)}
            </main>
        </div>
    );
}

export default Contact;